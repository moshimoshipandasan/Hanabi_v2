# 打ち上げ花火シミュレータ

ブラウザ上で動作するリアルな打ち上げ花火シミュレータです。プロの職人による花火大会のような演出を実現し、様々な種類の花火が折り重なり、正確な物理計算で軌道を描きます。

![花火シミュレータのスクリーンショット](screenshot.png)

## 機能

### プロの職人による花火大会モード

- 画面全体にバランスよく花火を配置するパターン生成
- 時間差で打ち上げることで自然な花火大会の雰囲気を再現
- フィナーレとして一斉に花火を打ち上げる演出
- 常に花火大会モードで動作（自動演出）

### 多彩な花火の種類

- **円形**: 均等に広がる基本的な花火
- **菊型**: 多層構造で広がる豪華な花火
- **柳型**: 垂れ下がる軌跡が特徴的な花火
- **クロセット型**: 途中で分裂する花火
- **リング型**: 水平・垂直方向に広がるリング状の花火
- 色のバリエーションも豊富（赤、青、緑、金、ピンクなど）

### リアルな物理シミュレーション

- 重力、摩擦、風の影響を考慮した自然な動き
- 放物線を描く打ち上げロケット
- 爆発後のパーティクルの動きも物理法則に従う
- 正確な軌道計算による目標位置への打ち上げ

### 視覚・聴覚効果

- 残像効果により複数の花火が重なって見える
- 軌跡の表現による流れるような動き
- パーティクルの大きさや速度のバリエーション
- 打ち上げロケットの軌跡表現
- Web Audio APIを使用したリアルな花火の音響効果
  - 打ち上げ音：「しゅーー」という特徴的な音
  - 爆発音：「ドカーン」という迫力ある爆発音
  - 残響音：「バリバリ」「パチパチ」という残響音
  - 複数の音源を組み合わせた立体的な音響表現
  - 本物の花火のような迫力ある音響体験
- 臨場感あふれるBGM
  - 花火大会の雰囲気を高める背景音楽
  - ユーザーインタラクション後に自動再生

### 最適化

- 適切な数の花火を同時に表示（基本パターン10個、フィナーレ5個）
- やや長めの打ち上げ間隔（0.5〜1.5秒）による余裕のある演出
- 効率的なパーティクル管理による滑らかな動作

## 使い方

1. `index.html` をブラウザで開くだけで、自動的に花火大会が始まります
2. 画面下部のコントロールパネルから花火の種類や色を選択できます
3. 「花火を打ち上げる」ボタンをクリックすると、選択した種類と色の花火が追加で打ち上がります

## 技術的な実装

### HTML/CSS/JavaScript

- HTML5 Canvasを使用したリアルタイムアニメーション
- オブジェクト指向プログラミングによる花火とパーティクルの実装
- requestAnimationFrameによる滑らかなアニメーション

### 花火の物理シミュレーション

- パーティクルシステムによる花火の表現
- 重力、摩擦、風の影響を考慮した物理計算
- 放物線軌道の計算と調整
- 残像効果のための透明度制御

### パフォーマンス最適化

- 効率的なパーティクル管理
- キャンバスのクリア方法の最適化
- 不要なパーティクルの削除処理

## ファイル構成

- `index.html`: HTMLの基本構造とUI要素
- `style.css`: スタイリングとレイアウト
- `script.js`: 花火のアニメーションとインタラクション

## 今後の拡張予定

- より多くの花火パターンの追加
- 背景の変更機能（夜景、星空など）
- 花火大会のシナリオエディタ
- モバイル対応の強化

## ライセンス

MIT License
